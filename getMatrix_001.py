from colour import matrix_colour_correction, read_image
from colour_checker_detection import detect_colour_checkers_segmentation

source_filename = "source.exr"

source = detect_colour_checkers_segmentation(read_image(source_filename))[0]

target = [
    [0.17355167, 0.07874029, 0.05326058],
    [0.55946176, 0.27734355, 0.21194777],
    [0.10509124, 0.18955202, 0.32693865],
    [0.10506442, 0.15021316, 0.05221047],
    [0.22885963, 0.21350031, 0.42346758],
    [0.11449231, 0.50663347, 0.41229432],
    [0.74499115, 0.20172072, 0.0325174],
    [0.0606182, 0.10259253, 0.38373146],
    [0.56055825, 0.08072134, 0.11432307],
    [0.10983077, 0.04254067, 0.13682661],
    [0.32967574, 0.49495612, 0.04886544],
    [0.7689789, 0.35655545, 0.02534346],
    [0.0225082, 0.04870543, 0.28081679],
    [0.0444356, 0.29068277, 0.06458335],
    [0.44636923, 0.03676343, 0.0406788],
    [0.83803037, 0.57175305, 0.01273052],
    [0.52392518, 0.07924915, 0.28656418],
    [-0.04308491, 0.23415773, 0.37506175],
    [0.87919095, 0.88476747, 0.8349529],
    [0.58443959, 0.59212352, 0.58458201],
    [0.35767777, 0.36706043, 0.36528718],
    [0.19008669, 0.19086038, 0.1898278],
    [0.08593528, 0.08873843, 0.08978779],
    [0.03135966, 0.03149993, 0.03231098],
]

matrix = matrix_colour_correction(source, target)

print(matrix)
