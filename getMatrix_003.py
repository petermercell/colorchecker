from colour import matrix_colour_correction, read_image
from colour_checker_detection import detect_colour_checkers_segmentation

source_filename = "source.exr"

source = detect_colour_checkers_segmentation(read_image(source_filename))[0]

target = [
    [0.12352185, 0.50014024, 0.38620378],
    [0.21498245, 0.21030098, 0.42369405],
    [0.08478575, 0.14376125, 0.04632937],
    [0.09352333, 0.18762931, 0.32487815],
    [0.55887621, 0.28546917, 0.20831772],
    [0.16189762, 0.07239271, 0.04617433],
    [0.73185745, 0.1781343, 0.01647002],
    [0.04443235, 0.09769864, 0.34423744],
    [0.54388909, 0.07704525, 0.11343967],
    [0.08655038, 0.04242055, 0.14386053],
    [0.34668778, 0.50421467, 0.04336367],
    [0.84067668, 0.33835229, 0.01306082],
    [-0.05921422, 0.21435331, 0.34620743],
    [0.54098327, 0.07276986, 0.28129634],
    [0.89995247, 0.60091974, -0.00312428],
    [0.48971647, 0.01182625, 0.03266965],
    [0.04106236, 0.28928752, 0.05531369],
    [0.00868623, 0.03868002, 0.23982372],
    [0.95196627, 0.88859608, 0.86075173],
    [0.59764, 0.56945921, 0.55095416],
    [0.35862878, 0.34474285, 0.33166329],
    [0.18731169, 0.17975505, 0.17265435],
    [0.08058826, 0.07746429, 0.07365641],
    [0.02455127, 0.02221809, 0.02401148]
]

matrix = matrix_colour_correction(source, target)

print(matrix)
