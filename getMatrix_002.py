from colour import matrix_colour_correction, read_image
from colour_checker_detection import detect_colour_checkers_segmentation

source_filename = "source.exr"

source = detect_colour_checkers_segmentation(read_image(source_filename))[0]

target = [
    [0.55067428, 0.54452857, 0.09228552],
    [0.52628172, 0.10366784, 0.10548857],
    [0.48029787, 0.12375899, 0.47579495],
    [0.09265672, 0.10448422, 0.43698847],
    [0.10238247, 0.53279984, 0.54033706],
    [0.11431721, 0.48482393, 0.1109238],
    [0.08506253, 0.0546933, 0.04031908],
    [0.2385275, 0.11874789, 0.06697403],
    [0.44878259, 0.28122786, 0.19186507],
    [0.38105856, 0.21108463, 0.12677438],
    [0.52628844, 0.35366733, 0.26489983],
    [0.57410132, 0.40114107, 0.31328171],
    [0.04489626, 0.0439971, 0.04400712],
    [0.06181497, 0.06317388, 0.06497085],
    [0.14976565, 0.1486591, 0.14951377],
    [0.23358708, 0.23608815, 0.23484571],
    [0.40216211, 0.40468166, 0.41005089],
    [0.63990722, 0.64572307, 0.65176688],
    [0.0361024, 0.03645179, 0.03742664],
    [0.02880733, 0.02984399, 0.03046136],
    [0.00637911, 0.00593361, 0.00631497],
    [0.75149834, 0.7580864, 0.75697806],
    [0.83286324, 0.84068143, 0.83548108],
    [0.90184468, 0.89917418, 0.86433561]
]

matrix = matrix_colour_correction(source, target)

print(matrix)
